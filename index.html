<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Lunar Almanac</title>
  
  <!-- Content Security Policy for XSS Protection -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
    style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
    img-src 'self' data: https: blob:;
    connect-src 'self' https://*.render.com https://lunar-almanac-backend.onrender.com;
    font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com;
    object-src 'none';
    base-uri 'self';
    form-action 'self';
    frame-ancestors 'none';
  ">
  
  <link rel="stylesheet" href="/src/styles/styles.css">
  <link rel="manifest" href="/manifest.webmanifest" />
  <meta name="theme-color" content="#d0bfff" />
</head>
<body>
  <div id="preloader">
    <img src="/assets/icons/logo-icon.png" alt="Celtic Calendar Logo" />
  </div>
  <div class="container">
    <header>
        <nav>
          <ul class="nav-list">
            <li>
              <a href="#home" class="nav-link" id="nav-home">
                <img src="/assets/icons/logo-icon.png" alt="Home" class="nav-icon" />
              </a>
            </li>
            <li>
              <a href="#calendar" class="nav-link" id="nav-calendar">
                <img src="/assets/icons/calendar-icon.png" alt="Calendar" class="nav-icon" />
              </a>
            </li>
            <li>
              <a href="#insights" class="nav-link" id="nav-insights">
                <img src="/assets/icons/insights-icon.png" alt="Insights" class="nav-icon" />
              </a>
            </li>
            <li>
              <a href="#faq" class="nav-link" id="nav-faq">
                <img src="/assets/icons/faq-icon.png" alt="faq" class="nav-icon" />
              </a>
            </li>
            <li>
              <a href="#settings" class="nav-link" id="nav-settings">
                <img src="/assets/icons/settings-icon.png" alt="Settings" class="nav-icon" />
              </a>
            </li>
          </ul>
        </nav>
    </header>

    <div class="star-layer"></div>

    <main id="app">
        <!-- Dynamic content will be injected here -->
    </main>

    <footer>
      <nav>
          <a href="#settings" class="footer-link">Settings</a>
          <img src="/assets/images/decor/knot.png" alt="Celtic Knot" class="footer-knot">
          <a href="#about" class="footer-link">About</a>
          <img src="/assets/images/decor/knot.png" alt="Celtic Knot" class="footer-knot">
          <a href="#privacy" class="footer-link">Privacy</a>
      </nav>
    
  </footer>
</div>

<!-- Flatpickr Core with Subresource Integrity -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" 
      integrity="sha384-6aHdH0HgsLYgxfgdJlFrlWQZXrPvvQCF6HrIY7YW/Ujo8lWd7mFOTbKZFdS0MF/s" 
      crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/flatpickr" 
        integrity="sha384-V6TZKqfj/g+MgCFZ5vgdK5T4AJD4hc8nPK6nQJYeH6TkXdGJVT8sBW1vGrMU5U5" 
        crossorigin="anonymous"></script>
<!-- Your Custom Moon Veil Theme -->
<link rel="stylesheet" href="/s/moonveil-theme.css">

<!-- index.html -->
<div id="event-toast" class="event-toast hidden">
   âœ¨ Event added for <span id="toast-date"></span>
  <span id="event-toast-message"></span>
  <button id="event-toast-view">View it now</button>
</div>

<!-- PWA service worker is disabled during local development; VitePWA will inject the correct registration in production builds. -->

<!-- SweetAlert2 for polished event confirmation with SRI -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" 
        integrity="sha384-/XJQ6BqUdHAJu4T9ZQr8JLgNJVGlnKIZ2S9DnSz6sBL8vP1nQjXyHw1h5FwHQwO" 
        crossorigin="anonymous"></script>

<!-- Vite runtime  -->
<script type="module" src="/src/main.js"></script>

</body>
</html>